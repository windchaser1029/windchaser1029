<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>祝你天天开心！</title>

    <script type="text/javascript">
        window.onload = function () {
            setTimeout("test(1)", 6000)

        }
        function test(n) {
            if (n == 1) {
                document.getElementById("second2").style.display = "none"

            }


        };
    </script>






    <script>
        setTimeout("changeState()", 7000);
        function changeState() {
            let content = document.getElementById('content');
            content.innerHTML = "<h4> <span>w</span> <span>7</span></h4>";
        }  
    </script>
    <script type="text/javascript">
        $(document).ready(function () {
            setInterval(function () {
                $("#dis").fadeOut(6000);
            }, 6000);
    </script>



    <link rel="stylesheet" type="text/css" href="normalize.css" />
    <link rel="stylesheet" type="text/css" href="demo.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
        #next-btn {
            background-color: #212121;
            color: #fff;
            border: none;
            border-radius: 3px;
            padding: 8px 15px;
            margin: 10px;
            box-shadow: 2px 2px 2px #888888;
            position: absolute;
            z-index: 9999;
            right: 70%;
            bottom: 20%;
            animation: no 52s;
        }
    </style>
</head>

<body>
    <div id="pagination">

        <a href="demo.html"> <button id="next-btn">星空站台 <i class="fa fa-arrow-circle-right"></i></button></a>
    </div>
    <h1 class="f1">这曲挺上头的</h1>
    <h1 class="f2">弹幕即将来袭</h1>
    <h1 class="f3">3</h1>
    <h1 class="f4">2</h1>
    <h1 class="f5">1</h1>
    <h1 class="f6">有幸遇见,即是上上签</h1>
    <h1 class="f7">期末周忙完了，暑假就休闲多了吧</h1>
    <h1 class="f8"> 本打算约咱们px几个去浙苏杭一带走走玩玩的</h1>
    <h1 class="f9">现在也各回各家，各找各妈了，八月只能另说了</h1>
    <h1 class="f10">也希望你每天都能无忧无虑的，心里少点纠结和内耗</h1>
    <h1 class="f11">我也相信接近金牛的生活，相处熟悉需要很久很久</h1>
    <h1 class="f12"> 所以，我是做好长跑的觉悟的</h1>
    <h1 class="f13">最最最最最重要的一点，好好吃饭，好好对自己</h1>
    <h1 class="f14">便已拥有了最值得庆幸的青春</h1>
    <button class="hallo" onclick="document.getElementById('myAudio').play()">点击许愿<br></button>
    <div class="cake"><img src="蛋糕.png" alt="cake" height="350px" width="300px"></div>
    <p id="content"></p>
    <div class="present"><img src="生日礼物.png" alt="cake" height="300px" width="370px"></div>
    <h1 class="author">From: 风</h1>
    <div id="second2" type="display: none">轻触屏幕</div>
    <div class="demo"></div>

    <script type="text/javascript" src="jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="jquery.fireworks.js"></script>
    <script type="text/javascript" src="disappear.js"></script>
    <script type="text/javascript">
            $('.demo').fireworks({
                sound: false, // sound effect
                opacity: 0.9,
                width: '100%',
                height: '100%'
            });
    </script>
    <script>
            // 为了防止第二次创建
            let playState = true
            function testAutoPlay() {
                // 返回一个promise以告诉调用者检测结果
                return new Promise(resolve => {
                    if (playState) {
                        let audio = document.createElement('audio');
                        audio.src = "rooftop.mp3"
                        //循环播放，如果不需要可注释

                        document.body.appendChild(audio);
                        let autoplay = true;
                        // play返回的是一个promise
                        audio.play().then(() => {
                            // 支持自动播放
                            autoplay = true;
                            console.log("正常播放")
                        }).catch(err => {
                            // 不支持自动播放
                            console.log("不支持播放")
                            autoplay = false;
                        }).finally((e) => {
                            resolve(autoplay);
                        });
                        playState = false
                    } else {
                        resolve(false)
                    }

                });
            }

            let audioInfo = {
                autoplay: false,
                testAutoPlay() {
                    return testAutoPlay()
                },
                // 监听页面的点击事件，一旦点过了就能autoplay了
                setAutoPlayWhenClick() {
                    function setAutoPlay() {
                        // 设置自动播放为true
                        audioInfo.autoplay = true;
                        document.removeEventListener('click', setAutoPlay);
                        document.removeEventListener('touchend', setAutoPlay);
                    }
                    document.addEventListener('click', setAutoPlay);
                    document.addEventListener('touchend', setAutoPlay);
                },
                init() {
                    // 检测是否能自动播放
                    audioInfo.testAutoPlay().then(autoplay => {
                        if (!audioInfo.autoplay) {
                            audioInfo.autoplay = autoplay;
                        }
                    });
                    // 用户点击交互之后，设置成能自动播放
                    audioInfo.setAutoPlayWhenClick();
                }
            };
            // PC端
            document.addEventListener('click', () => {
                audioInfo.init();
            });
            // 移动端
            document.addEventListener('touchend', () => {
                audioInfo.init();
            });
    </script>
    <audio src="rooftop.mp3"></audio>
</body>

</html>